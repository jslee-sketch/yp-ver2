# 📘 PROJECT_RULES_v3.4_DeadTimeAware.md  
### YeokPing (역핑) 거래정책 v3.4 — Working Hour-Aware Edition  
Writer: Jeong Sang Lee  
Date: 2025-11-02  
Version: 3.4 (Stable Declaration)

---

## 1️⃣ 개요

**역핑(YeokPing)** 은 소비자가 조건을 먼저 제시하고,  
판매자가 그 조건에 맞춰 가격과 조건을 제안(Offer)하는 **소비자 주도형 역입찰 공동구매 플랫폼**입니다.  

핵심 철학:  
> “판매자가 입찰하고, 소비자가 선택한다.”  

모든 거래는 **공정성**, **신뢰성**, **참여 유도성**을 원칙으로 설계됩니다.

---

## 2️⃣ 시스템 기본 구조

| 단계 | 주체 | 설명 |
|------|------|------|
| 1 | 구매자 (방장) | 상품명, 수량, 희망가, 옵션(최대 5개), 자유기재로 Deal 생성 |
| 2 | 구매자 (참여자) | 기존 Deal에 참여(수량 입력) |
| 3 | 판매자 | 조건을 기반으로 Offer 제출 (가격, 수량, 자유기재만 가능) |
| 4 | 거래성립 | 구매자가 Offer 중 선택 → 결제 → Seller 수락으로 거래 확정 |

---

## 3️⃣ 타임라인 (KST 기준, UTC+9)

| 이벤트    | 소요시간 | 설명 |
|----------|-----------|-----------|
| (1) Deal 생성 ~ 모집 마감 | **24시간 (Dead Time 제외)** | 신규 판매자 승인시간(12h) 포함 가능 |
| (2) 신규판매자 승인  | **최대 12시간** | 관리자가 사업자등록증 등 서류 검토 후 승인. 승인 전 Offer 불가 |
| (3) Offer 제출 및 수정 가능 기간 | **Offer 생성 후 ~ Offer 마감 전까지** | 마감 전까지 자유 수정 가능 |
| (4) Offer 마감 → 구매자 결제 가능시간 | **2시간 15분** | 구매자는 2시간 내 결제 완료해야 함, 방장은 첫15분간 Offer에 대해 우선 구매권 가짐. 15분 이후부터는 다른 구매자들 동시에 구매참여. 총 2시간|
| (5) 판매자 수락·철회 선택 시간 | **30분** | 판매자는 Offer 결과에 따라 30분 내 ‘수락/철회’ 결정 (미응답시 자동 철회) |
| (6) Dead Time | **평일 18:00~익일09:00, 주말·공휴일 전체** | 모든 타이머 일시정지 (Pause) 후 근무시간 재개 (Resume) |

* 방장은 Offer가 마감되고 구매가 시작되면, 첫 15분 동안 우선구매권 가짐. 
  방장의 구매가 완료되면 바로 다른 구매자들에게 구매가 Open됨. 아니면 15분 후 자동으로 바로 구매 Open. 
---

## 4️⃣ Dead Time 정책

### ⚙️ 원칙
- Dead Time 중 모든 타이머(Deal, Offer, 승인, 결제)는 **일시정지 (Pause)**
- 근무시간 재개 시 타이머가 **Resume**
- Dead Time은 한국 표준시(KST, UTC+9) 기준 관리

### 🧩 Dead Time 포함 로직 예시

| 구분 | 시간 흐름 |
|------|-------------|
| 금요일 17:00 Deal 생성 (24h) | 월요일 09:00 마감 (주말 Dead Time 60h 제외) |
| 수요일 22:00 Offer 생성 (24h) | 금요일 09:00 마감 (야간 Dead Time 11h 제외) |

### 🖥️ 시스템 메시지 예시
> “⏸ 현재 Dead Time 중입니다. 남은 거래 가능시간 7시간 25분은 다음 영업시간부터 재개됩니다.”

---

## 5️⃣ Offer 철회 및 수락 정책

| 조건 | 판매자 행동                     |  결과               | 상태     |
|------|--------------------------------|--------------------|----------|
| 구매자 희망가 이하 제시 + 전량 판매 성공 | 철회 불가 / 자동수락 | ✅ 확정 |
| 구매자 희망가 이하 제시 + 전량 판매 실패 | 철회 가능 (30분 내) | ⏳ 대기 |
| 구매자 희망가 초과 제시 + 전량 판매 성공 | 철회 불가 / 자동수락 | ✅ 확정 |
| 구매자 희망가 초과 제시 + 전량 판매 실패 | 철회 가능 (30분 내) | ⏳ 대기 |

- 판매자의 30분 내 응답 없음 → **자동철회 처리**
- 판매자가 철회대상일 경우, 구매자의 **Trust Point 패널티 없음**
- 결제 완료 구매자는 거래 불성사 시에도 **완전참여 인정**

---

## 6️⃣-1 구매자 Trust Tier 시스템

| 등급   | 조건 (최근 10회 기준)                        | Deposit 비율 | 혜택                |
|--------|--------------------------------------------|--------------|---------------------|
| Tier 5 | 최소 5회 참여 이상 & 전체거래이행률 20%미만   |   10%        | Deal 참여불가        |
| Tier 4 | 신규참여자 또는 Tier5에 해당되지 않는 구매자  |   10%        | Deal 참여가능        |
| Tier 3 | 최소 10회 참여 이상 & 전체거래이행률 61%~85%  |    8%        | 브론즈신뢰뱃지 부여  |
| Tier 2 | 최소 10회 참여 이상 & 전체거래이행률 86%~95%  |    5%        | 실버신뢰뱃지 부여    |
| Tier 1 | 최소 10회 참여 이상 & 전체거래이행률 95%~     |    0%        | 골드신뢰뱃지 부여    |

-. 거래 : Deal 참여 후, 결제 이행. 
-. 참여 : Deal에 참여하여, Deposit을 Pay한 경우.
-. 결제가 이행되었으나, 판매자의 사유(Offer철회)로 인한 거래불이행은, 거래 이행으로 봄.
- 거래 실패 시(판매자의 수락/철회 마감 시) **100% 즉시 반환**
- 거래 성사 시(판매자의 수락/철회 마감 시) **결제와 함께 반환**
- **Trust Tier 자동갱신:** 매일 단위 스케줄러 계산

---

## 6️⃣-2 구매자 point 적립,차감 등급 시스템

등급	  | 포인트구간	    |   혜택
-----------|---------------|-------------------
브론즈	   |  0~50	       |   브론즈 등급 표시
실버	   |  51~200	   |   실버 등급 표시
골드	   | 201~500	   |   골드 등급 표시
플래티넘   |  500+	       |   플레티넘 등급 표시
----------|----------------|------------------



---

## 6️⃣-3 판매자 Trust Tier 시스템 

없음.



---

## 6️⃣-4 판매자 point 적립,차감 등급 시스템

|레벨	 |    조건	                              |   혜택
|--------|----------------------------------------|--------------------------
|레벨 6	 |  신규 승인~20건                         |   판매수수료 3.5% 부과
|레벨 5	 |  거래 21건~40건 and 역핑리뷰 평점 4.0+ 	|  판매수수료 3.0% 부과
|레벨 4	 |  거래 41건~60건 and 역핑리뷰 평점 4.0+	  |  판매수수료 2.8% 부과
|레벨 3	 |  거래 61건~100건	and 역핑리뷰 평점 4.0+  |  판매수수료 2.7% 부과
|레벨 2	 |  거래 100건 이상 and 역핑리뷰 평점 4.0+	|  판매수수료 2.5% 부과
|레벨 1  |  거래 100건 이상 and 역핑리뷰 평점 4.5+  |  판매수수료 2.0% 부과

* 판매수수료는 판매 전체금액의 일정 %를 역핑에 지급하는 수수료임.
* 위 표대로 혜택을 부과하되, 레벨/조건/혜택은 언제든 변경할 수 있도록 따로 관리 필요.

---


## 7️⃣ Offer 노출 및 필터링 규칙

| 조건 | 처리 방식 |
|------|------------|
| Offer 금액 ≤ 구매희망가 | 전면 노출 |
| Offer 금액 > 구매희망가 + 10% | Offer 제출 자체 불가 |
| Offer 금액 ≤ 구매희망가 + 10% | “프리미엄 제안” 섹션에 제한적 노출 |

> 👉 +10% 초과 시 Offer 생성 자체 제한 (의미 없는 고가 제안 방지)

---

## 8️⃣ Trigger Points 요약

| 이벤트 | 트리거 |
|----------|----------|
| Deal Closing | 모집시간 만료 (Dead Time 제외 24h 경과) |
| Offer 시작 | Deal 모집 마감 직후 |
| Offer Closing | 24h (Dead Time 제외) 경과 |
| 구매자 결제 가능시점 | Offer 마감 직후 2h |
| 판매자 수락/철회 | 구매자 결제마감 후 30m 이내 |
| Trust 갱신 | 주 1회 자동 계산 |
| 신규판매자 승인 | 서류 검토 후 12h 내 승인 완료 시 Offer 가능 |

---

## 9️⃣ Deposit 정책 요약

| 항목 | 규칙 |
|------|-------|
| Deposit 비율 | 기본 10%, Trust Tier에 따라 감소 |
| 납입 시점 | Deal Closing 이전까지 |
| 미납 시 | Deal 자동탈퇴 처리 |
| 반환 조건 | 거래 실패 시 또는 거래 성사 관련없이, 판매자 수락/철회 마감 시, 100% 즉시 반환 |
| 몰수 없음 | 의도적 불참 개념 제거 — 신뢰점수로 관리 |
| 목적 | 거래신뢰 확보 및 허수참여 억제 |

---

## 🔟 확장 방향 (향후 버전 계획)

| 항목 | 설명 |
|------|------|
| 옵션 자동매칭 (AI Option AutoMatch) | 제품명·옵션 키워드로 자동 옵션타이틀 제안 |
| AI Assist Offer Generation | 판매자에게 실시간 경쟁가 제안 및 낙찰가 예측 |
| 실시간 Chat Layer | 구매자–판매자 간 인앱 상담 지원 |
| Seller Trust Index | 판매이력·응답률 기반 자동평판 점수 |
| 실패딜 리포트 | 미결제·비응답 원인 자동분석 |
| Multi-Region Dead Time | 리전별 Dead Time 정의로 확장 가능 |

---

## 11️⃣ 시스템 요약 구조도
[Deal생성]
(24h 모집 / Dead Time 제외)
[Offer시작]
(24h 모집 / 수정가능)
[Offer마감]
(2h 결제기간)
[구매자 결제 완료]

[판매자 수락/철회]
(30m)
[거래확정 / 포인트 반영 / Deposit 반환]

-----

## ✅ 결론

> 역핑은 단순한 공동구매 플랫폼이 아니라,  
> **공정한 거래 시간 + 실질적 신뢰 보증 + 행동 데이터 기반 유통 OS**를 지향한다.

Dead Time 기반의 Pause/Resume 로직은  
공정성과 신뢰를 기술적으로 보장하며,  
Trust Tier와 Deposit 구조는 유저 행동의 품질을 진화시킨다.
